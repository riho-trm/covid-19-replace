(function(){"use strict";var e={2592:function(e,t,a){var r=a(9242),s=a(3396);const n={class:"bg-red-800 text-white"},o=(0,s._)("div",null,[(0,s._)("h1",{class:"text-center p-4 text-6xl font-bold"},"COVID-19 Japan"),(0,s._)("p",{class:"text-center p-3 mb-3 text-xl font-medium"}," 新型コロナウイルス対策ダッシュボード ")],-1),l=[o];function i(e,t){return(0,s.wg)(),(0,s.iD)("header",n,l)}var c=a(89);const d={},p=(0,c.Z)(d,[["render",i]]);var u=p,f=a.p+"img/notestopcovid19-banner.06f12b4c.png",b=a.p+"img/howareyou.66e3cd90.png",m=a.p+"img/whowatch-banner.d16e3fc6.png";const v={class:"flex justify-around"},g=(0,s.uE)('<div class="w-1/3 object-cover p-4"><a class="" href="https://note.stopcovid19.jp/n/n0b078f2b3dce"><img class="" alt="コロナの専門家" src="'+f+'"></a></div><div class="w-1/3 object-cover p-4"><a class="" href="https://tk3-805-12365.vw.sakura.ne.jp:3443/thanks"><img class="" alt="元気ですか？" src="'+b+'"></a></div>',2),w=(0,s._)("div",{class:"w-1/3 object-cover p-4"},[(0,s._)("a",{class:"",href:"https://whowatch.tv/",xhref:"https://fukuno.jig.jp/?q=%E3%81%B5%E3%82%8F%E3%81%A3%E3%81%A1"},[(0,s._)("img",{class:"",alt:"#STAYHOME x ふわっち",src:m})])],-1),h=[g,w];function y(e,t){return(0,s.wg)(),(0,s.iD)("footer",v,h)}const x={},_=(0,c.Z)(x,[["render",y]]);var U=_,P=(0,s.aZ)({__name:"App",setup(e){return(e,t)=>{const a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(u),(0,s.Wm)(a),(0,s.Wm)(U)],64)}}});const k=P;var O=k,C=a(2483),N=a(7139),S=a(4870),j=a(6265),z=a.n(j),H=a(65);const A={class:"flex items-center mb-4 justify-center"},B=["id","checked"],D=["for"];var R=(0,s.aZ)({__name:"BaseCheckbox",props:{id:null,checked:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return(t,a)=>((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("input",{id:e.id,"aria-describedby":"checkbox-1",type:"checkbox",class:"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded cursor-pointer",checked:e.checked,onChange:a[0]||(a[0]=e=>t.$emit("update:modelValue",e.target.checked))},null,40,B),(0,s._)("label",{for:e.id,class:"text-xs ml-3 font-medium text-gray-900"},[(0,s.WI)(t.$slots,"default")],8,D)]))}});const E=R;var L=E,J=a(6026),V=a.n(J),W=a(3403),M=(0,s.aZ)({__name:"BaseButton",props:{displayName:null},emits:["click"],setup(e,{emit:t}){const a=()=>{t("click")};return(t,r)=>((0,s.wg)(),(0,s.iD)("button",{type:"button",class:"border border-gray-700 bg-gray-700 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-white hover:text-gray-700 focus:outline-none focus:shadow-outline",onClick:a},(0,N.zw)(e.displayName),1))}});const Z=M;var I=Z;const q={class:"modal fixed inset-0 bg-gray-400 bg-opacity-70 flex flex-col items-center justify-center"},T={class:"modal-content fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 items-center justify-center bg-white w-3/4 h-screen p-5 overflow-y-scroll"},Y={class:"modal-wrapper"},F={class:"text-right"},$={class:"text-center text-3xl"},G=(0,s._)("div",{class:"w-full px-32 my-1"},[(0,s._)("canvas",{id:"pieChart"})],-1),K={class:"text-center text-2xl"},Q=(0,s._)("br",null,null,-1),X={class:"text-center"},ee=(0,s.Uk)(" 現在患者数 出典: "),te=["href"],ae=(0,s._)("br",null,null,-1),re=(0,s._)("a",{href:"http://www.jibika.or.jp/members/information/info_corona.html",class:"underline"},"一般社団法人 日本耳鼻咽喉科学会",-1),se=(0,s._)("br",null,null,-1),ne=(0,s._)("a",{href:"https://www.mhlw.go.jp/stf/seisakunitsuite/newpage_00023.html",class:"underline"},"新型コロナウイルス対策病床数オープンデータ",-1),oe={class:"pt-6 pb-3 text-center"},le=(0,s._)("br",null,null,-1),ie=(0,s.Uk)(" 2020年2月回答 出典: "),ce=(0,s._)("a",{href:"https://www.ja-ces.or.jp/info-ce/%e4%ba%ba%e5%b7%a5%e5%91%bc%e5%90%b8%e5%99%a8%e3%81%8a%e3%82%88%e3%81%b3ecmo%e8%a3%85%e7%bd%ae%e3%81%ae%e5%8f%96%e6%89%b1%e5%8f%b0%e6%95%b0%e7%ad%89%e3%81%ab%e9%96%a2%e3%81%99%e3%82%8b%e7%b7%8a/",class:"underline"},"一般社団法人 日本呼吸療法医学会 公益社団法人 日本臨床工学技士会",-1),de=(0,s._)("div",{class:"w-full h-4/5"},[(0,s._)("canvas",{id:"lineChart"})],-1),pe={key:0},ue={class:"text-center pt-10"},fe={class:"grid grid-cols-8 gap-1"},be=(0,s._)("br",null,null,-1),me={class:"text-center text-xs pt-2"},ve={class:"btn flex justify-center py-8"};var ge=(0,s.aZ)({__name:"OverviewByPrefecture",props:{isVisible:{type:Boolean},promptChecked:{type:Boolean},prefCode:null,prefName:null,bedsOfHospital:null,bedsOfHotel:null,bedRate:null,bedsUpdate:null},emits:["close"],setup(e,{expose:t,emit:a}){const n=e,o=(0,H.oR)(),l=(0,S.iH)({nameJp:"",patients:0,currentPatients:0,exits:0,deaths:0,source:"",sourceUrl:"",lastUpdate:"",url:"",appUrl:"",clinicalEngineer:0,ventilator:0,ecmo:0}),i={labels:[],currentPatients:[],deaths:[]},c=(0,S.iH)({update:"",data:[{name:"",count:0,class:""}],outOfTokyo:0,investigating:0,subTotal:0}),d=async()=>{const e=await o.getters.getAppUrl(n.prefCode),t=await o.getters.getNameJp(n.prefCode),a=await p(t);let r={};if(!0===n.promptChecked){const e=await o.getters.getPromptReportByPrefecture(n.prefName);r=void 0===e?await o.getters.getDataOfPrefecture(n.prefCode):e}else!1===n.promptChecked&&(r=await o.getters.getDataOfPrefecture(n.prefCode));l.value.nameJp=r.nameJp,l.value.patients=r.patients,l.value.currentPatients=r.currentPatients,l.value.exits=r.exits,l.value.deaths=r.deaths,l.value.source=r.source,l.value.sourceUrl=r.sourceUrl,l.value.lastUpdate=r.lastUpdate,l.value.url=e.url,l.value.appUrl=e.appUrl,l.value.clinicalEngineer=Number(a["総CE（名）"]),l.value.ventilator=Number(a["マスク専用人工呼吸器取扱（台）"])+Number(a["人工呼吸器取扱（台）"]),l.value.ecmo=Number(a["ECMO装置取扱（台）"]),"JP-13"===n.prefCode&&f()},p=async e=>{try{const t=await z().get("https://www.stopcovid19.jp/data/ventilator-20200306.csv"),a=V().parse(t.data,{header:!0}).data,r=a.find((t=>t.都道府県===e));return r}catch(t){console.log(t)}},u=async()=>{i.labels.splice(0),i.currentPatients.splice(0),i.deaths.splice(0);try{const e=await z().get(`https://www.stopcovid19.jp/data/covid19japan/pref/${n.prefName}.csv`),t=V().parse(e.data,{header:!0}).data;for(const a of t)i.labels.push(a.date),i.currentPatients.push(Number(a.ncurrentpatients)),i.deaths.push(Number(a.ndeaths))}catch(e){console.log(e)}},f=async()=>{c.value.data.splice(0);const e=await z().get("https://raw.githubusercontent.com/tokyo-metropolitan-gov/covid19/master/data/patient.json");c.value.update=e.data.date;for(let t of e.data.datasets.data)"都外"===t.label?c.value.outOfTokyo=t.count:"調査中"===t.label?c.value.investigating=t.count:"小計"===t.label?c.value.subTotal=t.count:c.value.data.push({name:t.label,count:t.count,class:function(e){return e>=1&&e<=300?"bg-red-50":e<=500?"bg-red-100":e<=1e3?"bg-red-200":e<=3e3?"bg-red-300":e<=5e3?"bg-red-400":e<=1e4?"bg-red-500":e>=10001?"bg-red-600":"bg-white"}(t.count)})},b=()=>n.bedsOfHospital+n.bedsOfHotel-l.value.currentPatients,m=()=>{const e=b();return e<0?0:e};let v,g;const w=()=>{let e=document.getElementById("pieChart");v&&v.destroy(),v=new W.Z(e,{type:"pie",data:{labels:[`現在患者数(${l.value.currentPatients})`,`想定病床残数(${b()})`],datasets:[{backgroundColor:["#fa8072","#a9a9a9"],data:[l.value.currentPatients,m()]}]},options:{responsive:!0}}),g&&g.destroy();let t=document.getElementById("lineChart");g=new W.Z(t,{type:"line",data:{labels:i.labels,datasets:[{label:"入院治療を要する者",data:i.currentPatients,backgroundColor:["rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255,99,132,1)"],borderWidth:1,yAxisID:"y"},{label:"累計死亡者数",data:i.deaths,backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1,yAxisID:"y2"}]},options:{responsive:!0,scales:{y:{type:"linear",position:"right",title:{display:!0,text:"入院治療を要する者",font:{size:10}}},y2:{type:"linear",position:"left",title:{display:!0,text:"累計死亡者数",font:{size:10}}}}}})},h=()=>{d(),w()},y=()=>{a("close")},x=()=>{window.open(l.value.url,"_blank")},_=()=>{window.open(l.value.appUrl,"_blank")};return(0,s.bv)((async()=>{w()})),(0,s.YP)((()=>n),((e,t)=>{d(),u()}),{deep:!0}),t({renderChart:w,clickButton:h}),(t,a)=>{const i=(0,s.up)("fa");return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.wy)((0,s._)("div",q,null,512),[[r.F8,e.isVisible]]),(0,s.wy)((0,s._)("div",T,[(0,s._)("div",Y,[(0,s._)("div",F,[(0,s.Wm)(i,{icon:"fa-solid fa-xmark",class:"text-gray-500 text-4xl cursor-pointer",onClick:y})]),(0,s._)("div",$,(0,N.zw)((0,S.SU)(o).getters.getNameJp(n.prefCode))+" 現在患者数/対策病床数 "+(0,N.zw)(n.bedRate)+"% ",1),G,(0,s._)("div",K,[(0,s.Uk)(" 累積陽性者: "+(0,N.zw)(l.value.patients.toLocaleString())+"人 累積退院者: "+(0,N.zw)(l.value.exits.toLocaleString())+"人 ",1),Q,(0,s.Uk)(" 累積死者: "+(0,N.zw)(l.value.deaths.toLocaleString())+"人 対策病床数: "+(0,N.zw)((n.bedsOfHospital+n.bedsOfHotel).toLocaleString())+"床 ",1)]),(0,s._)("div",X,[ee,(0,s._)("a",{href:l.value.sourceUrl,class:"underline"},(0,N.zw)(l.value.source),9,te),(0,s.Uk)("(更新日: "+(0,N.zw)(l.value.lastUpdate)+") ",1),ae,re,(0,s.Uk)("定義におけるハイリスク地域（現在患者数 "+(0,N.zw)(l.value.currentPatients)+"名 >= 10名） ",1),se,(0,s.Uk)(" 対策病床数 医療機関"+(0,N.zw)(n.bedsOfHospital)+"床+宿泊施設"+(0,N.zw)(n.bedsOfHotel)+"室 出典: ",1),ne,(0,s.Uk)("(発表日: "+(0,N.zw)(n.bedsUpdate)+") ",1)]),(0,s._)("div",oe,[(0,s.Uk)(" (参考) 臨床工学技士:"+(0,N.zw)(l.value.clinicalEngineer)+"人 マスク専用含む人工呼吸器取扱:"+(0,N.zw)(l.value.ventilator)+"台 ECMO装置取扱:"+(0,N.zw)(l.value.ecmo)+"台 ",1),le,ie,ce]),de]),"JP-13"===n.prefCode?((0,s.wg)(),(0,s.iD)("div",pe,[(0,s._)("div",ue," 【参考】区市町村別患者数（都内発生分） 更新: "+(0,N.zw)(c.value.update),1),(0,s._)("div",fe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.value.data,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.name,class:(0,N.C_)(["cursor-pointer grid place-items-center text-black text-center",e.class])},[(0,s.Uk)((0,N.zw)(e.name)+" ",1),be,(0,s.Uk)(" "+(0,N.zw)(e.count),1)],2)))),128))]),(0,s._)("div",me," （都外:"+(0,N.zw)(c.value.outOfTokyo.toLocaleString())+"、調査中:"+(0,N.zw)(c.value.investigating.toLocaleString())+"、小計:"+(0,N.zw)(c.value.subTotal.toLocaleString())+"） ",1)])):(0,s.kq)("",!0),(0,s._)("div",ve,[(0,s.Wm)(I,{"display-name":"とじる",onClick:y}),""!==l.value.appUrl?((0,s.wg)(),(0,s.j4)(I,{key:0,"display-name":"アプリへ",onClick:_})):(0,s.kq)("",!0),(0,s.Wm)(I,{"display-name":"公式サイトへ",onClick:x})])],512),[[r.F8,e.isVisible]])])}}});const we=ge;var he=we;const ye={class:"overview-wrapper flex"},xe={class:"all-overview w-1/2"},_e={class:"table"},Ue={class:"border-collapse border-2 border-red-800"},Pe=(0,s._)("tr",null,[(0,s._)("th",{class:"border-2 border-red-800 px-1 text-sm font-normal"}," 現在患者数/対策病床数 "),(0,s._)("th",{class:"border-2 border-red-800 px-1 text-sm font-normal"}," 現在患者数 ")],-1),ke={class:"border-2 border-red-800 px-1 py-2 text-3xl text-white font-medium text-center bg-red-800"},Oe={class:"border-2 border-red-800 px-1 py-2 text-3xl text-white font-medium text-center bg-red-800"},Ce=(0,s._)("tr",null,[(0,s._)("th",{class:"border border-red-800 px-1 text-sm font-normal"}," 累積退院者 "),(0,s._)("th",{class:"border-2 border-red-800 px-1 text-sm font-normal"}," 死亡者 ")],-1),Ne={class:"border-2 border-red-800 px-1 py-2 text-3xl text-white font-medium text-center bg-red-800"},Se={class:"border-2 border-red-800 px-1 py-2 text-3xl text-white font-medium text-center bg-red-800"},je={class:"border-2 border-red-800 px-1 text-sm font-normal"},ze={class:"border-2 border-red-800 px-1 text-sm font-normal"},He={colspan:"2",class:"border border-red-800 px-1 py-2 text-center"},Ae=(0,s._)("br",null,null,-1),Be=(0,s.Uk)("2020年2月回答 "),De=(0,s._)("a",{href:"https://www.ja-ces.or.jp/info-ce/%e4%ba%ba%e5%b7%a5%e5%91%bc%e5%90%b8%e5%99%a8%e3%81%8a%e3%82%88%e3%81%b3ecmo%e8%a3%85%e7%bd%ae%e3%81%ae%e5%8f%96%e6%89%b1%e5%8f%b0%e6%95%b0%e7%ad%89%e3%81%ab%e9%96%a2%e3%81%99%e3%82%8b%e7%b7%8a/",class:"underline"},"出典 一般社団法人 日本呼吸療法医学会 公益社団法人 日本臨床工学技士会",-1),Re={class:"update-date py-1.5"},Ee={class:"text-xs text-center"},Le={class:"flex-wrapper flex justify-center"},Je={key:0},Ve={class:"use-prompt-report"},We=(0,s.Uk)(" 「"),Me=(0,s._)("a",{href:"https://docs.google.com/spreadsheets/d/1SPqnO0yLn8ubax96sDJZVDcjAH8QT1suLCIgroPGVHY/edit?usp=sharing",class:"underline"},"新型コロナウイルス患者数オープンデータ",-1),Ze=(0,s.Uk)("」を使用(速報) "),Ie={class:"overview-by-prefecture ml-2"},qe={class:"grid grid-cols-7 gap-1"},Te={class:"grid place-items-center bg-black text-white text-center col-span-2"},Ye=(0,s._)("div",null,"(全国)現在患者数/対策病床数",-1),Fe=(0,s._)("div",null,null,-1),$e=["onClick"],Ge={class:"supplement text-center pt-4"},Ke=(0,s.Uk)(" 新型コロナウイルス感染症（国内事例） 現在患者数 / 対策病床数 ※軽症者等は自宅療養など、病床を使用しないことがあります（"),Qe=(0,s._)("a",{href:"https://www.mhlw.go.jp/stf/seisakunitsuite/bunya/0000164708_00001.html",class:"underline"},"詳細",-1),Xe=(0,s.Uk)("） "),et=(0,s._)("br",null,null,-1),tt=(0,s.Uk)(" （現在患者数 前日より増加"),at=(0,s.Uk)(" 前日より減少"),rt=(0,s.Uk)("） ");var st=(0,s.aZ)({__name:"AllOverview",setup(e){const t=(0,H.oR)();let a=(0,S.iH)({bedRate:0,currentPatients:0,exits:0,deaths:0,beds:0,patients:0,clinicalEngineer:0,ventilator:0,ecmo:0,patientsUpdate:new Date,bedsUPdate:new Date}),r=(0,S.iH)([{name:"",nameJp:"",currentpatients:0,bedsOfHospital:0,bedsOfHotel:0,code:""}]),n=(0,S.iH)([{name:"",todayCurrentPatients:0,yesterdayCurrentPatients:0}]),o=(0,S.iH)(!1),l=(0,S.iH)({isVisible:!1,prefCode:"",prefName:"",bedsOfHospital:0,bedsOfHotel:0,bedRate:0,bedsUpdate:""});const i=(0,S.iH)(),c=async()=>{try{t.commit("resetState"),await t.dispatch("getPatientsNumber"),await t.dispatch("getPromptReport"),await t.dispatch("getBedsData"),await t.dispatch("getAppUrl"),await t.dispatch("getVentilator")}catch(e){console.log(e)}},d=async()=>{await c(),a.value=await t.getters.getAllOverView,r.value=await t.getters.getOverviewByPrefecture;const e=await z().get("https://www.stopcovid19.jp/data/covid19japan-trend.json"),s=e.data;n.value.splice(0,1);for(const t of s)n.value.push({name:t.name,todayCurrentPatients:t.ncurrentpatients,yesterdayCurrentPatients:t.dcurrentpatients})};d();const p=(e,t,a)=>Math.floor(a/(e+t)*100),u=(e,t)=>{const a=n.value.find((t=>t.name===e));return a?.todayCurrentPatients!==t||void 0===a||0===a.yesterdayCurrentPatients?0:a.yesterdayCurrentPatients<0?1:a.yesterdayCurrentPatients>0?2:void 0};(0,s.m0)((async()=>{if(!0===o.value){const e=await t.getters.getDataByPrefectureWithPromptReport;for(const t of e)a.value.currentPatients-=t.currentPatients,a.value.exits-=t.exits,a.value.deaths-=t.deaths,a.value.patients-=t.patients;const s=await t.getters.getPromptReport;for(const t of s){for(const[e,a]of r.value.entries())a.name===t.prefName&&(a.currentpatients=t.currentPatients);a.value.currentPatients+=t.currentPatients,a.value.exits+=t.exits,a.value.deaths+=t.deaths,a.value.patients+=t.patients}a.value.bedRate=Math.floor(a.value.currentPatients/a.value.beds*100)}if(!1===o.value){const e=await t.getters.getPromptReport;for(const t of e)a.value.currentPatients-=t.currentPatients,a.value.exits-=t.exits,a.value.deaths-=t.deaths,a.value.patients-=t.patients;const s=await t.getters.getDataByPrefectureWithPromptReport;for(const t of s){for(const[e,a]of r.value.entries())a.name===t.prefName&&(a.currentpatients=t.currentPatients);a.value.currentPatients+=t.currentPatients,a.value.exits+=t.exits,a.value.deaths+=t.deaths,a.value.patients+=t.patients}a.value.bedRate=Math.floor(a.value.currentPatients/a.value.beds*100)}}));const f=(e,t,r,s,n)=>{l.value.isVisible=!0,l.value.prefCode=e,l.value.prefName=t,l.value.bedsOfHospital=r,l.value.bedsOfHotel=s,l.value.bedRate=p(r,s,n),l.value.bedsUpdate=a.value.bedsUPdate,setTimeout(i.value.clickButton,500)},b=()=>{l.value.isVisible=!1};return(e,n)=>{const c=(0,s.up)("fa");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ye,[(0,s._)("div",xe,[(0,s._)("div",_e,[(0,s._)("table",Ue,[Pe,(0,s._)("tr",null,[(0,s._)("td",ke,(0,N.zw)((0,S.SU)(a).bedRate.toLocaleString())+"% ",1),(0,s._)("td",Oe,(0,N.zw)((0,S.SU)(a).currentPatients.toLocaleString())+"人 ",1)]),Ce,(0,s._)("tr",null,[(0,s._)("td",Ne,(0,N.zw)((0,S.SU)(a).exits.toLocaleString())+"人 ",1),(0,s._)("td",Se,(0,N.zw)((0,S.SU)(a).deaths.toLocaleString())+"人 ",1)]),(0,s._)("tr",null,[(0,s._)("th",je," 対策病床数 "+(0,N.zw)((0,S.SU)(a).beds.toLocaleString())+"床 ",1),(0,s._)("th",ze," PCR検査陽性者数 "+(0,N.zw)((0,S.SU)(a).patients.toLocaleString())+"人 ",1)]),(0,s._)("tr",null,[(0,s._)("td",He,[(0,s._)("p",null,[(0,s.Uk)(" 臨床工学技士 "+(0,N.zw)((0,S.SU)(a).clinicalEngineer.toLocaleString())+"人 / 人工呼吸器 "+(0,N.zw)((0,S.SU)(a).ventilator.toLocaleString())+"台 / ECMO "+(0,N.zw)((0,S.SU)(a).ecmo.toLocaleString())+"台",1),Ae,Be,De])])])]),(0,s._)("div",Re,[(0,s._)("div",Ee,[(0,s._)("div",Le,[(0,s._)("div",null,"現在患者数 更新日："+(0,N.zw)((0,S.SU)(a).patientsUpdate),1),(0,S.SU)(o)?((0,s.wg)(),(0,s.iD)("div",Je," （速報 "+(0,N.zw)((0,S.SU)(t).state.promptReport[0].lastUpdate)+"） ",1)):(0,s.kq)("",!0)]),(0,s._)("div",null,"対策病床数 更新日："+(0,N.zw)((0,S.SU)(a).bedsUPdate),1)])]),(0,s._)("div",Ve,[(0,s.Wm)(L,{modelValue:(0,S.SU)(o),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,S.dq)(o)?o.value=e:o=e),id:"prompt-report-check"},{default:(0,s.w5)((()=>[We,Me,Ze])),_:1},8,["modelValue"])])])]),(0,s._)("div",Ie,[(0,s._)("div",qe,[(0,s._)("div",Te,[(0,s._)("div",null,(0,N.zw)((0,S.SU)(a).currentPatients.toLocaleString())+"/"+(0,N.zw)((0,S.SU)(a).beds.toLocaleString()),1),Ye,Fe]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,S.SU)(r),(e=>((0,s.wg)(),(0,s.iD)("div",{onClick:t=>f(e.code,e.name,e.bedsOfHospital,e.bedsOfHotel,e.currentpatients),key:e.code,class:"cursor-pointer grid place-items-center bg-black text-white text-center"},[(0,s._)("div",null,[(0,s.Uk)((0,N.zw)(e.nameJp)+" ",1),2===u(e.name,e.currentpatients)?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:"fa-solid fa-arrow-up",class:"text-red-500"})):1===u(e.name,e.currentpatients)?((0,s.wg)(),(0,s.j4)(c,{key:1,icon:"fa-solid fa-arrow-down",class:"text-blue-700"})):(0,s.kq)("",!0)]),(0,s._)("div",null,(0,N.zw)(p(e.bedsOfHospital,e.bedsOfHotel,e.currentpatients).toLocaleString())+"% ",1),(0,s._)("div",null,(0,N.zw)(e.currentpatients.toLocaleString())+"/"+(0,N.zw)((e.bedsOfHospital+e.bedsOfHotel).toLocaleString()),1)],8,$e)))),128))])])]),(0,s._)("div",Ge,[Ke,Qe,Xe,et,tt,(0,s.Wm)(c,{icon:"fa-solid fa-arrow-up",class:"text-red-500"}),at,(0,s.Wm)(c,{icon:"fa-solid fa-arrow-down",class:"text-blue-700"}),rt]),(0,s.Wm)(he,{ref_key:"childRef",ref:i,"is-visible":(0,S.SU)(l).isVisible,"prompt-checked":(0,S.SU)(o),"pref-code":(0,S.SU)(l).prefCode,"pref-name":(0,S.SU)(l).prefName,"beds-of-hospital":(0,S.SU)(l).bedsOfHospital,"beds-of-hotel":(0,S.SU)(l).bedsOfHotel,"bed-rate":(0,S.SU)(l).bedRate,"beds-update":(0,S.SU)(l).bedsUpdate,onClose:b},null,8,["is-visible","prompt-checked","pref-code","pref-name","beds-of-hospital","beds-of-hotel","bed-rate","beds-update"])],64)}}});const nt=st;var ot=nt,lt=a(395),it=a(7897);const ct={style:{width:"100%"}},dt=(0,s._)("canvas",{id:"myChart"},null,-1),pt=[dt];var ut=(0,s.aZ)({__name:"OverviewGraph",setup(e){let t=[],a=[],r=[];const n=()=>{let e=document.getElementById("myChart");new W.Z(e,{type:"line",data:{labels:t,datasets:[{label:"入院治療を要する者",data:a,backgroundColor:["rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255,99,132,1)"],borderWidth:1,yAxisID:"y"},{label:"救急搬送困難事案",data:r,backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1,yAxisID:"y2"}]},options:{responsive:!0,plugins:{title:{display:!0,text:"COVID-19 日本の新型コロナウイルス概況",font:{size:12}}},scales:{y:{type:"linear",position:"right",title:{display:!0,text:"現在入院を要する者",font:{size:10}}},y2:{type:"linear",position:"left",title:{display:!0,text:"救急搬送困難事案数",font:{size:10}}}}}})};(0,s.bv)((async()=>{await o(),await l(),await i(),n()}));const o=async()=>{try{const e=await z().get("https://www.stopcovid19.jp/data/mhlw_go_jp/opendata/requiring_inpatient_care_etc_daily.csv"),a=V().parse(e.data,{header:!0}).data;for(const r of a)t.push(r.Date)}catch(e){console.log(e)}},l=async()=>{try{const e=await z().get("https://www.stopcovid19.jp/data/mhlw_go_jp/opendata/requiring_inpatient_care_etc_daily.csv"),t=V().parse(e.data,{header:!0}).data;for(const r of t)a.push(r["(ALL) Requiring inpatient care"])}catch(e){console.log(e)}},i=async()=>{try{const e=await z().get("https://code4fukui.github.io/fdma_go_jp/emergencytransport_difficult_all.csv"),t=V().parse(e.data,{header:!0}).data;for(const a of t){const e=(0,lt.Z)(a.終了日,"yyyy-MM-dd",new Date);if(e<(0,lt.Z)("2020-05-09","yyyy-MM-dd",new Date)||""===a.開始日)continue;const t=(0,it.Z)(e,"yyyy/M/d");r.push({x:t,y:a.救急搬送困難事案数})}}catch(e){console.log(e)}};return(e,t)=>((0,s.wg)(),(0,s.iD)("div",ct,pt))}});const ft=ut;var bt=ft;const mt={class:"flex flex-wrap justify-center"},vt={class:"w-11/12"},gt={class:"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row"},wt={class:"-mb-px mr-2 last:mr-0 flex-auto text-center cursor-pointer"},ht={class:"-mb-px mr-2 last:mr-0 flex-auto text-center cursor-pointer"},yt={class:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded"},xt={class:"px-4 py-5 flex-auto"},_t={class:"tab-content tab-space"};var Ut=(0,s.aZ)({__name:"MainView",setup(e){let t=(0,S.iH)(1);const a=e=>{t.value=e};return(e,r)=>((0,s.wg)(),(0,s.iD)("div",mt,[(0,s._)("div",vt,[(0,s._)("ul",gt,[(0,s._)("li",wt,[(0,s._)("a",{class:(0,N.C_)(["text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal",{"text-red-800 bg-white":1!==(0,S.SU)(t),"text-white bg-red-800":1===(0,S.SU)(t)}]),onClick:r[0]||(r[0]=e=>a(1))}," コロナ概況データ ",2)]),(0,s._)("li",ht,[(0,s._)("a",{class:(0,N.C_)(["text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal",{"text-red-800 bg-white":2!==(0,S.SU)(t),"text-white bg-red-800":2===(0,S.SU)(t)}]),onClick:r[1]||(r[1]=e=>a(2))}," 概況グラフデータ ",2)])]),(0,s._)("div",yt,[(0,s._)("div",xt,[(0,s._)("div",_t,[(0,s._)("div",{class:(0,N.C_)({hidden:1!==(0,S.SU)(t),block:1===(0,S.SU)(t)})},[(0,s.Wm)(ot)],2),(0,s._)("div",{class:(0,N.C_)({hidden:2!==(0,S.SU)(t),block:2===(0,S.SU)(t)})},[(0,s.Wm)(bt)],2)])])])])]))}});const Pt=Ut;var kt=Pt;const Ot=[{path:"/",name:"home",component:kt}],Ct=(0,C.p7)({history:(0,C.PO)("/"),routes:Ot});var Nt=Ct,St=(0,H.MT)({state:{patientsNumberOfAll:{},patientsNumberByPrefecture:[],promptReport:[],beds:[],prefAppUrl:[],ventilator:[]},getters:{getAllOverView(e,t){return{bedRate:Math.floor(e.patientsNumberOfAll.currentPatients/t.getAllBeds*100),currentPatients:e.patientsNumberOfAll.currentPatients,exits:e.patientsNumberOfAll.exits,deaths:e.patientsNumberOfAll.deaths,beds:t.getAllBeds,patients:e.patientsNumberOfAll.patients,clinicalEngineer:e.ventilator.find((e=>"全国"===e.prefName))?.clinicalEngineer,ventilator:e.ventilator.find((e=>"全国"===e.prefName))?.ventilator,ecmo:e.ventilator.find((e=>"全国"===e.prefName))?.ecmo,patientsUpdate:e.patientsNumberOfAll.lastUpdate,bedsUPdate:e.beds[0].lastUpdate}},getAllBeds(e){let t=0;for(const a of e.beds)t+=a.bedsOfHospital+a.bedsOfHotel;return t},getOverviewByPrefecture(e){const t=[];for(const a of e.patientsNumberByPrefecture)t.push({name:a.prefName,nameJp:a.nameJp,currentpatients:a.currentPatients,bedsOfHospital:e.beds.find((e=>e.prefName===a.nameJp))?.bedsOfHospital,bedsOfHotel:e.beds.find((e=>e.prefName===a.nameJp))?.bedsOfHotel,code:a.code});return t},getPromptReport(e){return e.promptReport},getDataByPrefectureWithPromptReport(e){const t=[];e.promptReport.forEach((e=>t.push(e.prefName)));const a=[];for(const r of t)a.push(e.patientsNumberByPrefecture.find((e=>e.prefName===r)));return a},getDataOfPrefecture:e=>t=>{const a={nameJp:"",patients:0,currentPatients:0,exits:0,deaths:0,source:"",sourceUrl:"",lastUpdate:""},r=e.patientsNumberByPrefecture.find((e=>e.code===t));return void 0===r?r:(a.nameJp=r.nameJp,a.patients=r.patients,a.currentPatients=r.currentPatients,a.exits=r.exits,a.deaths=r.deaths,a.source=r.source,a.sourceUrl=r.sourceUrl,a.lastUpdate=e.patientsNumberOfAll.lastUpdate,a)},getPromptReportByPrefecture:e=>t=>{const a={nameJp:"",patients:0,currentPatients:0,exits:0,deaths:0,source:"",sourceUrl:"",lastUpdate:""},r=e.promptReport.find((e=>e.prefName===t));return void 0===r?r:(a.nameJp=e.patientsNumberByPrefecture.find((e=>e.prefName===t))?.nameJp,a.patients=r.patients,a.currentPatients=r.currentPatients,a.exits=r.exits,a.deaths=r.deaths,a.source=r.source,a.sourceUrl=r.sourceUrl,a.lastUpdate=r.lastUpdate,a)},getAppUrl:e=>t=>{for(const a of e.prefAppUrl)if(a.code===t)return a},getNameJp:e=>t=>e.patientsNumberByPrefecture.find((e=>e.code===t))?.nameJp},mutations:{resetState(e){e.patientsNumberOfAll={},e.patientsNumberByPrefecture=[],e.promptReport=[],e.beds=[],e.prefAppUrl=[],e.ventilator=[]},setPatientsNumber(e,t){const a=e.patientsNumberOfAll;a.patients=t.npatients,a.currentPatients=t.ncurrentpatients,a.exits=t.nexits,a.deaths=t.ndeaths,a.lastUpdate=t.lastUpdate;const r=e.patientsNumberByPrefecture;for(const s of t.area)r.push({prefName:s.name,nameJp:s.name_jp,patients:s.npatients,currentPatients:s.ncurrentpatients,exits:s.nexits,deaths:s.ndeaths,code:s["ISO3155-2"],source:"厚生労働省 新型コロナウイルス感染症 各都道府県の検査陽性者の状況",sourceUrl:"https://www.mhlw.go.jp/content/10906000/000974744.pdf"})},setPromptReport(e,t){for(const a of t)e.promptReport.push({prefName:a.name,patients:a.npatients,currentPatients:a.ncurrentpatients,exits:a.nexits,deaths:a.ndeaths,source:"東京都 新型コロナウイルス患者数オープンデータ",sourceUrl:"https://catalog.data.metro.tokyo.lg.jp/organization/t000010?q=%E6%96%B0%E5%9E%8B%E3%82%B3%E3%83%AD%E3%83%8A&sort=score+desc%2C+metadata_modified+desc",lastUpdate:a.lastUpdate})},setBeds(e,t){for(const a of t)e.beds.push({prefName:a.都道府県名,bedsOfHospital:Number(a.入院患者受入確保病床),bedsOfHotel:Number(a.宿泊施設受入可能室数),lastUpdate:a.更新日})},setAppUrl(e,t){for(const a of t)e.prefAppUrl.push({code:a["ISO3166-2"],url:a.url,appUrl:a.url_app})},setVentilator(e,t){for(const a of t)e.ventilator.push({prefName:a.都道府県,clinicalEngineer:Number(a["総CE（名）"]),ventilator:Number(a["マスク専用人工呼吸器取扱（台）"])+Number(a["人工呼吸器取扱（台）"]),ecmo:Number(a["ECMO装置取扱（台）"])})}},actions:{async getPatientsNumber(e){try{const t=await z().get("https://www.stopcovid19.jp/data/covid19japan.json");e.commit("setPatientsNumber",t.data)}catch(t){console.log(t)}},async getPromptReport(e){try{const t=await z().get("https://www.stopcovid19.jp/data/covid19japan-fast.json");e.commit("setPromptReport",t.data)}catch(t){console.log(t)}},async getBedsData(e){try{const t=await z().get("https://www.stopcovid19.jp/data/covid19japan_beds/latest.json");e.commit("setBeds",t.data)}catch(t){console.log(t)}},async getAppUrl(e){const t=await z().get("https://www.stopcovid19.jp/data/covid19pref.json");e.commit("setAppUrl",t.data)},async getVentilator(e){try{const t=await z().get("https://www.stopcovid19.jp/data/ventilator-20200306.csv"),a=V().parse(t.data,{header:!0});e.commit("setVentilator",a.data)}catch(t){console.log(t)}}},modules:{}}),jt=a(8125),zt=a(7749),Ht=a(8321);jt.vI.add(Ht.FPD,Ht.r5q,Ht.g82),(0,r.ri)(O).use(St).use(Nt).component("fa",zt.GN).mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,n){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],s=e[d][1],n=e[d][2];for(var l=!0,i=0;i<r.length;i++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[i])}))?r.splice(i--,1):(l=!1,n<o&&(o=n));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,n,o=r[0],l=r[1],i=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(i)var d=i(a)}for(t&&t(r);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},r=self["webpackChunkcovid_19_replace"]=self["webpackChunkcovid_19_replace"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(2592)}));r=a.O(r)})();
//# sourceMappingURL=app.34a00ac1.js.map